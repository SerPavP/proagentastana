1. Сущности и связи
users — риэлторы (пользователи)

Принадлежит (опционально) к одному агентству

Может иметь много объявлений

Может иметь много подборок

Хранит лог сессий и (опционально) просмотры страниц

agencies — агентства недвижимости

Имеет много пользователей

tariffs — тарифные планы (на будущее)

Будет использоваться при расширении количества планов

subscriptions — подписки пользователей на тарифы

Связь «много к одному» с users и tariffs

announcements — объявления о квартирах

Принадлежит одному пользователю

Может быть в архиве или активным

Имеет одну запись в таблице адресов

Имеет много фотографий

addresses — подробный адрес квартиры

Отдельная таблица для нормализации (микрорайон, ЖК, улица, дом, GPS-координаты)

photos — фотографии объявлений

Принадлежат одному объявлению

Отмечаем главное фото

collections — подборки квартир

Принадлежит одному пользователю

Может содержать много объявлений через связующую таблицу

collection_items — связующая таблица «подборка ↔ объявление»

user_sessions — логирование входов/выходов и длительности сессий

page_views (опционально) — время, проведённое на каждой странице